<!-- AI Chatbot Interface for KnowWay -->
<link rel="stylesheet" href="chatbot.css">
<div class="chatbot-container">
  <div class="chatbot-header">ðŸ¤– KnowWay Assistant</div>
  <div class="chatbot-body" id="chat-log"></div>
  <form id="chat-form">
    <input type="text" id="user-input" placeholder="Ask me anything..." autocomplete="off">
    <button type="submit">Send</button>
  </form>
</div>
<script src="chatbot.js"></script>

<!-- chatbot.css -->
<style>
.chatbot-container {
  position: fixed;
  bottom: 20px;
  right: 20px;
  width: 300px;
  border-radius: 12px;
  box-shadow: 0 0 15px rgba(0,0,0,0.1);
  overflow: hidden;
  font-family: sans-serif;
  background: #fff;
  display: flex;
  flex-direction: column;
}
.chatbot-header {
  background-color: #4CAF50;
  color: white;
  padding: 12px;
  font-weight: bold;
  text-align: center;
}
.chatbot-body {
  height: 300px;
  overflow-y: auto;
  padding: 10px;
  font-size: 0.9rem;
}
#chat-form {
  display: flex;
  border-top: 1px solid #eee;
}
#user-input {
  flex: 1;
  padding: 10px;
  border: none;
  outline: none;
}
#chat-form button {
  padding: 0 16px;
  background: #4CAF50;
  border: none;
  color: white;
  font-weight: bold;
  cursor: pointer;
}
</style>

<!-- chatbot.js -->
<script>
document.getElementById('chat-form').addEventListener('submit', async function(e) {
  e.preventDefault();
  const input = document.getElementById('user-input');
  const message = input.value.trim();
  if (!message) return;

  appendMessage('You', message);
  input.value = '...';
  input.disabled = true;

  const response = await fetch('chatbot.php', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({ message })
  });

  const data = await response.json();
  appendMessage('KnowWay Bot', data.reply);

  input.value = '';
  input.disabled = false;
});

function appendMessage(sender, text) {
  const log = document.getElementById('chat-log');
  const div = document.createElement('div');
  div.innerHTML = `<strong>${sender}:</strong> ${text}`;
  log.appendChild(div);
  log.scrollTop = log.scrollHeight;
}
</script>
